

##########################################################
# Horizontal Pod Autoscaling (HPA)
##########################################################
autoscaling:
  enabled: true
  minReplicas: 1
  maxReplicas: 5
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 75

##########################################################
# Startup, Readiness e Liveness probes
##########################################################
deployment:
  readinessProbe:
    enabled: true
    failureThreshold: 3
    periodSeconds: 10
    successThreshold: 1
    timeoutSeconds: 1
    initialDelaySeconds: 10
    httpGet:
      path: /v1/healthcheck
      port: http
  livenessProbe:
    enabled: true
    failureThreshold: 3
    periodSeconds: 10
    successThreshold: 1
    timeoutSeconds: 1
    initialDelaySeconds: 10
    httpGet:
      path: /v1/healthcheck
      port: http

##########################################################
# Service object for servicing pods
##########################################################
service:
  enabled: true
  ports:
    - port: 8080  
      name: http
      protocol: TCP
      targetPort: http
  type: ClusterIP

##########################################################
# Resources para pod
##########################################################
deployment:
  image:
    repository: viniciusfca/example-native
    tag: v1.0.0
  resources:
    requests:
      memory: 128Mi
      cpu: 100m
    limits:
      memory: 256Mi
      cpu: 200m
